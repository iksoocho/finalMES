<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout}">
<head>
<meta charset="UTF-8">
<title>발주 관리 ^^</title>
<style>
button {
	float: right;
	background-color: #0080ff;
	color: #ffffff;
	border: none;
	padding: 10px 20px;
	border-radius: 5px;
	font-size: 16px;
}

#moreInfo {
	border: solid 1px black;
	justify-content: center;
	align-items: center;
}

#moreInfo th {
	border: solid 1px black;
}

#moreInfo td {
	border: solid 1px black;
}
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
	<section layout:fragment="content">
		<div class="container">
			<h1>발주 관리</h1>
			<div>
				<button class="btn btn-info" data-bs-toggle="modal"
					data-bs-target="#exampleModal">등록</button>

				<div class="modal fade modal-xl" id="exampleModal" tabindex="-1"
					aria-labelledby="exampleModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">발주 등록</h5>
								<button type="button" class="btn-close" data-bs-dismiss="modal"
									aria-label="Close"></button>
							</div>
							<div class="modal-body">
								<table class="table">
									<thead>
										<tr>
											<th>발주 코드</th>
											<td><input type="text"></td>
											<th>발주 명</th>
											<td><input type="text"></td>
											<td></td>
											<td></td>
										</tr>
										<tr>
											<th>자재 코드</th>
											<td><input type="text"></td>
											<th>거래처 명</th>
											<td><input type="text"></td>
											<td></td>
											<td></td>
										</tr>
										<tr>
											<th>수량</th>
											<td><input type="number"></td>
											<th>발주일</th>
											<td><input type="date"></td>
											<th>담당자</th>
											<td><input type="text"></td>
											<td></td>
										</tr>
									</thead>
								</table>
								<button>초기화</button>
								<br>
								<div>
									<h5>상세정보</h5>
									<button>삭제</button>
									<button>추가</button>
									<button>품목정보 불러오기</button>
									<br> <br>
									<table class="table" id="moreInfo">
										<tr>
											<th rowspan="2"></th>
											<th rowspan="2"><input type="checkbox"></th>
											<th colspan="2">품목정보</th>
											<th rowspan="2">납기일자</th>
											<th colspan="3">금액정보</th>
											<th rowspan="2">비고</th>
										</tr>
										<tr>
											<th>품목명</th>
											<th>단위</th>
											<th>수량</th>
											<th>단가</th>
										</tr>
									</table>
								</div>


							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary"
									data-bs-dismiss="modal">닫기</button>
								<button type="button" class="btn btn-primary">작성완료</button>
							</div>
						</div>
					</div>
				</div>


				<table id="orderTable" class="table">
					<tbody>
						<tr>
							<th>No.</th>
							<th onclick="sortTableByOrderCode()">발주코드 (정렬기능 넣자)</th>
							<th>발주명</th>
							<th>자재 코드</th>
							<th>거래처 명</th>
							<th>수량</th>
							<th>발주일</th>
							<th>납기일</th>
							<th>담당자</th>
						</tr>
						<tr>
							<th>1</th>
							<th>mat_code</th>
							<th>라벨지</th>
							<th>mat_label</th>
							<th>포스코</th>
							<th>5000</th>
							<th>2024-01-30</th>
							<th>2024-02-02</th>
							<th>강현진</th>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<script>
			function sortTableByOrderCode() {
				var table, rows, switching, i, x, y, shouldSwitch;
				table = document.getElementById("orderTable");
				switching = true;
				while (switching) {
					switching = false;
					rows = table.getElementsByTagName("tr");
					for (i = 1; i < (rows.length - 1); i++) {
						shouldSwitch = false;
						x = rows[i].getElementsByTagName("td")[1];
						y = rows[i + 1].getElementsByTagName("td")[1];
						if (x.innerHTML.toLowerCase() > y.innerHTML
								.toLowerCase()) {
							shouldSwitch = true;
							break;
						}
					}
					if (shouldSwitch) {
						rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
						switching = true;
					}
				}
			}
		</script>
	</section>
</body>
</html>