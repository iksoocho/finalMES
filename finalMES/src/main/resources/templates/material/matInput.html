<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout}">
<head>
<meta charset="UTF-8">
<title>입고 관리^^</title>
</head>
<body>
	<section layout:fragment="content">
		
		<div id="ckeckGrid" class="container"><h3>검수 완료 목록</h3></div>


		<div id="inputGrid" class="container"><h3>입고목록</h3></div>

	<script th:inline="javascript">
		let matInputList = [[${matInputList}]]
		
		 const inputGrid = new tui.Grid({

           el: document.getElementById('inputGrid'),
           data: matInputList, // 여기서 emps 데이터를 사용
           scrollX: false,
           scrollY: false,
	      columns: [
	        {
	          header: 'LOT코드',
	          name: 'matLotCode'
	        },
	        {
	          header: '자재코드',
	          name: 'matCode'
	        },
	        {
	          header: '자재명',
	          name: 'matName'
	        },
	        {
		      header: '자재 검사코드',
		      name: 'matInsCode'
		    },
	        {
			  header: '검사량',
			  name: 'matInsCount'
			},
	        {
			  header: '입고량',
			  name: 'matInsGoodCount'
			},
	        {
			  header: '입고일',
			  name: 'matInputDate',
  		      formatter : function dateFormatter(params) {
  		    	  const date = new Date(params.value);
  		    	  const isoDate = date.toISOString().split('T')[0];
  		    	  return isoDate;
  		    	}
			},
	        {
			  header: '담당자',
			  name: 'matManager'
			},
	      ],
	      rowHeaders: ['rowNum'],
           pageOptions: {
               useClient: true,
               perPage: 5
           }
	    });
		
		
		const ckeckGrid = new tui.Grid({

	           el: document.getElementById('ckeckGrid'),
	           scrollX: false,
	           scrollY: false,
		      columns: [
		        {
		          header: '발주상세코드',
		          name: 'matOrCode'
		        },
		        {
		          header: '발주량',
		          name: 'matOrCount'
		        },
		        {
		          header: '자재명',
		          name: 'matName'
		        },
		        {
			      header: '단위',
			      name: 'matUnit'
			    },
		        {
				  header: '규격',
				  name: 'matStandard'
				},
		        {
				  header: '거래처',
				  name: 'businessName'
				},
		        {
				  header: '합격량',
				  name: 'matInsGood',
	  		      formatter : function dateFormatter(params) {
	  		    	  const date = new Date(params.value);
	  		    	  const isoDate = date.toISOString().split('T')[0];
	  		    	  return isoDate;
	  		    	}
				},
		        {
				  header: '불합격량',
				  name: 'matInsBad'
				},
				{
				  header: '불량내용',
				  name: 'badMatContent'
				},
				{
				  header: '검수일자',
				  name: 'matInsDate'
				},
		      ],
		      rowHeaders: ['rowNum'],
	           pageOptions: {
	               useClient: true,
	               perPage: 5
	           }
		    });
	</script>
</section>
</body>
</html>