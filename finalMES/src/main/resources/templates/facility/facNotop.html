<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">
<head>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.7/dist/umd/popper.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<meta charset="UTF-8">
<title>ë¹„ê°€ë™ê´€ë¦¬</title>
<style>
th, td {
	border: 1px solid black;
	padding: 8px;
	text-align: center;
}

table, th, td {
	border: none;
}

.select {
	text-align: center;
}
</style>
<script>
	// ëª¨ë‹¬ì°½ ë‚´ë¶€ì— ìˆëŠ” ë°ì´í„° input ì— ë‹´ëŠ” í•¨ìˆ˜
	function updateInputFields(Element) {
		// í´ë¦­í•œ <td> ìš”ì†Œì—ì„œ ë°ì´í„° ì†ì„±ì„ ê°€ì ¸ì˜´
		var facCode = Element.getAttribute('data-facCode');
		var facName = Element.getAttribute('data-facName');

		// ì…ë ¥ í•„ë“œì˜ ê°’ ì„¤ì •
		document.getElementById('equipmentCode').value = facCode;
		document.getElementById('equipmentName').value = facName;
	}

	function updateInputFields1(Element) {
		var facNotPerson = Element.getAttribute('data-facNotPerson');
		document.getElementById('facNotPerson').value = facNotPerson;
	}

	function updateStatus(Element) {
		var statusElement = Element.getAttribute('data-statusElement');
		var statusText = "";
		switch (statusElement) {
		case "0":
			statusText = "ëŒ€ê¸°";
			break;
		case "1":
			statusText = "ê°€ë™ì¤‘";
			break;
		case "2":
			statusText = "ë¹„ê°€ë™";
			break;
		}
		Element.innerText = statusText;
	}
</script>
</head>
<body>
	<section layout:fragment="content">
		<h1>ë¹„ê°€ë™ê´€ë¦¬</h1>
		<div class="container text-center">
			<div class="row">
				<div class="col">
					<br> <input class="select" type="text"
						placeholder="ì„¤ë¹„ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" />
					<button>ì¡°íšŒ</button>
					<br>
					<table style="width: 100%; table-layout: fixed;">
						<thead>
							<tr>
								<th style="width: 10%;">No.</th>
								<th style="width: 30%;">ì„¤ë¹„ì½”ë“œ</th>
								<th style="width: 30%;">ì„¤ë¹„ëª…</th>
								<th style="width: 40%;">ì‚¬ìœ </th>
								<th style="width: 25%;">ë‹´ë‹¹ì</th>
								<th style="width: 20%;">ìƒíƒœ</th>
							</tr>
						</thead>

						<tbody>
							<tr th:each="fac: ${list}">
								<td th:text="${facStat.count}"></td>
								<td th:text="${fac.facCode}"></td>
								<td th:text="${fac.facName}"></td>
								<td th:text="${fac.facNotReason}"></td>
								<td th:text="${fac.facNotPerson}"></td>
								<td>
								    <span th:switch="${fac.facNotSituation}">
								        <span th:case="0">ğŸŸ¡</span>
								        <span th:case="1">ğŸŸ¢</span>
								        <span th:case="2">ğŸ”´</span>
								        <span th:default="Unknown"></span>
								    </span>
								</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="col">
					<br> <br>
					<table class="table">
						<thead>
							<tr>
								<th>ì„¤ë¹„ì½”ë“œ *</th>
								<td colspan="2"><input type="text" id="equipmentCode"
									name="equipmentCode" required></td>
								<th>ì„¤ë¹„ëª… *</th>
								<td colspan="2"><input type="text" id="equipmentName"
									name="equipmentName" required data-toggle="modal"
									data-target="#myModal"></td>
							</tr>

							<tr>
								<th>ì‚¬ìœ </th>
								<td colspan="2"><input type="text" id="facContent"
									name="facContent" required></td>
								<th>ë‹´ë‹¹ì *</th>
								<td colspan="2"><input type="text" id="facNotPerson"
									name="facNotPerson" required data-toggle="modal"
									data-target="#myModal1"></td>
							</tr>
							<tr>
								<th>ì‹œì‘ì¼</th>
								<td colspan="2"><input type="date" id="equipmentCode"
									name="equipmentCode" required></td>
								<th>ì¢…ë£Œì¼</th>
								<td colspan="2"><input type="date" id="equipmentName"
									name="equipmentName" required data-toggle="modal"
									data-target="#myModal3"></td>
							</tr>
						</thead>
					</table>
					<button type="submit" class="btn btn-primary">ë“±ë¡</button>
				</div>
			</div>
		</div>
		<!-- ì„¤ë¹„ì½”ë“œ ëª¨ë‹¬ì°½ -->
		<div class="modal" id="myModal">
			<div class="modal-dialog">
				<div class="modal-content">
					<!-- ëª¨ë‹¬ í—¤ë” -->
					<div class="modal-header">
						<h4 class="modal-title">ì„¤ë¹„ëª…</h4>
						<button type="button" class="close" data-dismiss="modal">&times;</button>
					</div>
					<div class="modal-body">
						<!-- ëª¨ë‹¬ ë‚´ìš© ë°ì´í„°ë¡œ ë°›ì•„ì™€ì•¼í•¨ ì„¤ë¹„ëª… -->
						<table class="table">
							<thead>
								<tr>
									<th>No.</th>
									<th>ì„¤ë¹„ëª…</th>
									<th>ì œì¡°ì—…ì²´</th>
									<th>ë‹´ë‹¹ì</th>
									<th>ì…ê³ ì¼</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="fac: ${list}">
									<td th:text="${facStat.count}"></td>
									<td th:text="${fac.facName}" th:data-facCode="${fac.facCode}"
										th:data-facName="${fac.facName}"
										th:data-facPerson="${fac.facNotPerson}"
										onclick="updateInputFields(this)" data-bs-dismiss="modal"></td>
									<td th:text="${fac.businessCode}"></td>
									<td th:text="${fac.facNotPerson}"></td>
									<!-- ë‚ ì§œë³€í™˜  -->

									<td th:text="${#dates.format(fac.facDate, 'yyyy-MM-dd')}"></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal">ë‹«ê¸°</button>
					</div>
				</div>
			</div>
		</div>

		<!-- ë‹´ë‹¹ìëª¨ë‹¬ -->
		<div class="modal" id="myModal1">
			<div class="modal-dialog">
				<div class="modal-content">
					<!-- ëª¨ë‹¬ í—¤ë” -->
					<div class="modal-header">
						<h4 class="modal-title">ë‹´ë‹¹ìëª…</h4>
						<button type="button" class="close" data-dismiss="modal">&times;</button>
					</div>
					<div class="modal-body">
						<!-- ëª¨ë‹¬ ë‚´ìš© ë°ì´í„°ë¡œ ë°›ì•„ì™€ì•¼í•¨ ì„¤ë¹„ëª… -->
						<table class="table">
							<thead>
							</thead>
							<tbody>
								<tr th:each="fac: ${list}">
									<td th:text="${facStat.count}"></td>
									<td th:text="${fac.facNotPerson}"
										th:data-facNotPerson="${fac.facNotPerson}"
										onclick="updateInputFields1(this)" data-bs-dismiss="modal"></td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal">ë‹«ê¸°</button>
					</div>
				</div>
			</div>
		</div>
	</section>
</body>
</html>